      // Translation of default values for the select picker box.
      $.fn.selectpicker.Constructor.DEFAULTS.noneSelectedText = "اختر من القائمة";
      $.fn.selectpicker.Constructor.DEFAULTS.noneResultsText = "لا توجد نتائج مطابقة {0}";
      $.fn.selectpicker.Constructor.DEFAULTS.selectAllText = "اختر الكل";
      $.fn.selectpicker.Constructor.DEFAULTS.deselectAllText = "الغاء تحديد الكل";

      const MODAL_DEFAULT = '#myModalDefault';
      const MODAL_LG = '#myModal';
      const MODAL_XL = '#myModalXl';
      const MODAL_HEADING = '#modelHeading';
      const RIGHT_MODAL = '#task-detail-1';
      const RIGHT_MODAL_CONTENT = '#right-modal-content';
      const RIGHT_MODAL_TITLE = '#right-modal-title';
      const company = {"id":462,"sub_domain":"Altab.flowdo.net","company_name":"\u0645\u0624\u0633\u0633\u0629 \u0627\u0644\u0637\u064a\u0628 \u0627\u0644\u0623\u0641\u0636\u0644 \u0644\u0644\u062a\u062c\u0627\u0631\u0629","app_name":"\u0645\u0624\u0633\u0633\u0629 \u0627\u0644\u0637\u064a\u0628 \u0627\u0644\u0623\u0641\u0636\u0644 \u0644\u0644\u062a\u062c\u0627\u0631\u0629","company_email":"alroewes@gmail.com","company_phone":"\u0660\u0665\u0660\u0669\u0669\u0669\u0662\u0668\u0660\u0663","logo":"3514c4e1a404d36ddd99acbe6080e544.png","login_background":null,"country_id":187,"address":"\u0645\u0624\u0633\u0633\u0629 \u0627\u0644\u0637\u064a\u0628 \u0627\u0644\u0623\u0641\u0636\u0644 \u0644\u0644\u062a\u062c\u0627\u0631\u0629","city":null,"district":null,"postal_code":null,"additional_number":null,"national_address":null,"building_number":null,"website":null,"currency_id":1065,"package_id":49,"package_type":"monthly","timezone":"Asia\/Riyadh","date_format":"d-m-Y","date_picker_format":"dd-mm-yyyy","year_starts_from":"1","moment_format":"DD-MM-YYYY","time_format":"h:i a","locale":"ar","latitude":"26.91243360","longitude":"75.78727090","leaves_start_from":"joining_date","active_theme":"default","status":"active","task_self":"yes","last_updated_by":null,"stripe_id":null,"card_brand":null,"card_last_four":null,"trial_ends_at":null,"licence_expire_on":null,"license_updated_at":null,"subscription_updated_at":"2025-03-24T06:34:18+00:00","rounded_theme":1,"last_login":"2025-03-24T21:30:23+00:00","default_task_status":6059,"dashboard_clock":1,"ticket_form_google_captcha":0,"lead_form_google_captcha":0,"rtl":1,"company_name_en":null,"address_en":null,"city_en":null,"district_en":null,"identification_type":"CRN","cr_number":null,"gst_number":null,"token":null,"hash":"4910d1da9eac50d61c4bbc599634f085","logo_background_color":"#FFFFFF","header_color":"#00DD90","light_logo":"713a8c95c7cd38a61fc5092dce631cac.png","favicon":"6823163ef3557a2c287cd16b625019cb.png","auth_theme":"light","auth_theme_text":"dark","sidebar_logo_style":"square","before_days":0,"after_days":0,"on_deadline":"yes","taskboard_length":10,"datatable_row_limit":100,"allow_client_signup":0,"admin_client_signup_approval":0,"google_calendar_status":"inactive","google_client_id":null,"google_client_secret":null,"google_calendar_verification_status":"non_verified","name":null,"license_type":null,"approved":1,"approved_by":null,"show_new_webhook_alert":0,"pm_type":null,"pm_last_four":null,"currency_converter_key":null,"google_map_key":null,"purchase_code":null,"supported_until":null,"google_recaptcha_status":"deactive","google_recaptcha_v2_status":"deactive","google_recaptcha_v2_site_key":null,"google_recaptcha_v2_secret_key":null,"google_recaptcha_v3_status":"deactive","google_recaptcha_v3_site_key":null,"google_recaptcha_v3_secret_key":null,"app_debug":0,"hide_cron_message":0,"system_update":1,"show_review_modal":1,"last_cron_run":null,"session_driver":"file","allowed_file_types":null,"google_id":null,"allowed_file_size":10,"currency_key_version":"free","google_drive_status":"inactive","company_type":null,"business_category":null,"logo_url":"https:\/\/altab.flowdo.net\/user-uploads\/app-logo\/713a8c95c7cd38a61fc5092dce631cac.png","login_background_url":null,"moment_date_format":"DD-MM-YYYY","favicon_url":"https:\/\/altab.flowdo.net\/user-uploads\/favicon\/6823163ef3557a2c287cd16b625019cb.png","full_address":"\u0645\u0624\u0633\u0633\u0629 \u0627\u0644\u0637\u064a\u0628 \u0627\u0644\u0623\u0641\u0636\u0644 \u0644\u0644\u062a\u062c\u0627\u0631\u0629\u060c \u060c \u060c \u0627\u0644\u0645\u0645\u0644\u0643\u0629 \u0627\u0644\u0639\u0631\u0628\u064a\u0629 \u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629","full_address_en":", , , Saudi Arabia","package":{"id":49,"currency_id":9,"name":"\u0628\u0627\u0642\u0629 \u0627\u0644\u0645\u0634\u0627\u0631\u064a\u0639 \u0627\u0644\u0627\u0633\u0627\u0633\u064a\u0629","description":"[project]","max_storage_size":100000,"max_file_size":0,"annual_price":1,"monthly_price":1,"billing_cycle":0,"max_employees":20,"sort":"35","module_in_package":"{\u00221\u0022:\u0022clients\u0022,\u00222\u0022:\u0022employees\u0022,\u00223\u0022:\u0022projects\u0022,\u00225\u0022:\u0022tasks\u0022,\u00229\u0022:\u0022timelogs\u0022}","stripe_annual_plan_id":null,"razorpay_annual_plan_id":null,"razorpay_monthly_plan_id":null,"stripe_monthly_plan_id":null,"paystack_monthly_plan_id":null,"paystack_annual_plan_id":null,"default":"no","is_private":0,"storage_unit":"mb","is_recommended":0,"is_free":0,"is_auto_renew":0,"monthly_status":"1","annual_status":"1","formatted_annual_price":"SR1.00","formatted_monthly_price":"SR1.00"},"country":{"id":187,"iso":"SA","name":"SAUDI ARABIA","nicename":"Saudi Arabia","iso3":"SAU","numcode":682,"phonecode":966,"nationality":"Saudi"}};
      const pusher_setting = {"id":1,"pusher_app_id":null,"pusher_app_key":null,"pusher_app_secret":null,"pusher_cluster":null,"force_tls":0,"status":0,"taskboard":0,"messages":0};
      const message_setting = {"id":464,"company_id":462,"allow_client_admin":"no","allow_client_employee":"no","restrict_client":"no","send_sound_notification":0};
      const SEARCH_KEYWORD = "";
      const MOMENTJS_TIME_FORMAT = "hh:mm a";

      const datepickerConfig = {
          formatter: (input, date, instance) => {
              input.value = moment(date).format('DD-MM-YYYY')
          },
          showAllDates: true,
          customDays: ["\u0623\u062d\u062f","\u0627\u062b\u0646\u064a\u0646","\u062b\u0644\u0627\u062b\u0627\u0621","\u0623\u0631\u0628\u0639\u0627\u0621","\u062e\u0645\u064a\u0633","\u062c\u0645\u0639\u0629","\u0633\u0628\u062a"],
          customMonths: ["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"],
          customOverlayMonths: ["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"],
          overlayButton: "موافق",
          overlayPlaceholder: "4 أرقام سنة",
          startDay: parseInt("1")
      };

      const datepickerConfig2 = {
          formatter: (input, date, instance) => {
              input.value = moment(date).format('YYYY-MM-DD')
          },
          showAllDates: true,
          customDays: ["\u0623\u062d\u062f","\u0627\u062b\u0646\u064a\u0646","\u062b\u0644\u0627\u062b\u0627\u0621","\u0623\u0631\u0628\u0639\u0627\u0621","\u062e\u0645\u064a\u0633","\u062c\u0645\u0639\u0629","\u0633\u0628\u062a"],
          customMonths: ["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"],
          customOverlayMonths: ["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"],
          overlayButton: "موافق",
          overlayPlaceholder: "4 أرقام سنة",
          startDay: parseInt("1")
      };

      const daterangeConfig = {
          "اليوم": [moment(), moment()],
          "آخر 30 يومًا": [moment().subtract(29, 'days'), moment()],
          "هذا الشهر": [moment().startOf('month'), moment().endOf('month')],
          "الشهر الماضي": [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')],
          "آخر 90 يومًا": [moment().subtract(89, 'days'), moment()],
          "آخر 6 أشهر": [moment().subtract(6, 'months'), moment()],
          "العام الماضي": [moment().subtract(1, 'years'), moment()]
      };

      const daterangeLocale = {
          "format": "DD-MM-YYYY",
          "customRangeLabel": "نطاق مخصص",
          "separator": " ل ",
          "applyLabel": "تأكيد",
          "cancelLabel": "إلغاء",
          "monthNames": ["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"],
          "daysOfWeek": ["\u0623\u062d\u062f","\u0627\u062b\u0646\u064a\u0646","\u062b\u0644\u0627\u062b\u0627\u0621","\u0623\u0631\u0628\u0639\u0627\u0621","\u062e\u0645\u064a\u0633","\u062c\u0645\u0639\u0629","\u0633\u0628\u062a"],
          "firstDay": parseInt("1")
      };

      const dropifyMessages = {
          default: "اختيار ملف",
          replace: "قم بإسقاط ملف أو انقر لاستبداله",
          remove: "حذف",
          error: "حدث خطأ ما.",
      };

      const DROPZONE_FILE_ALLOW = "image/*,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/docx,application/pdf,text/plain,application/msword,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/zip,application/x-zip-compressed,application/x-compressed,multipart/x-zip,.xlsx,video/x-flv,video/mp4,application/x-mpegURL,video/MP2T,video/3gpp,video/quicktime,video/x-msvideo,video/x-ms-wmv,application/sla,.stl,.ai,.psd,.xmind,.pptx,.rar,.html";
      const DROPZONE_MAX_FILESIZE = "10000";
      const DROPZONE_MAX_FILES = "10";

      Dropzone.prototype.defaultOptions.dictFallbackMessage = "متصفحك لا يدعم سحب الملفات وإسقاطها.";
      Dropzone.prototype.defaultOptions.dictFallbackText = "يرجى استخدام النموذج الاحتياطي أدناه لتحميل ملفاتك كما في الأيام الخوالي.";
      Dropzone.prototype.defaultOptions.dictFileTooBig = "الملف كبير جدًا ({{حجم الملف}} ميغا بايت). الحد الأقصى لحجم الملف: {{max File size}} ميغا بايت.";
      Dropzone.prototype.defaultOptions.dictInvalidFileType = "لا يمكنك تحميل ملفات من هذا النوع.";
      Dropzone.prototype.defaultOptions.dictResponseError = "استجاب الخادم برمز {{statusCode}}.";
      Dropzone.prototype.defaultOptions.dictCancelUpload = "إلغاء الرفع";
      Dropzone.prototype.defaultOptions.dictCancelUploadConfirmation = "هل أنت متأكد أنك تريد إلغاء هذا التحميل؟";
      Dropzone.prototype.defaultOptions.dictRemoveFile = "إزالة الملف";
      Dropzone.prototype.defaultOptions.dictMaxFilesExceeded = "لا يمكنك تحميل أكثر من {{maxFiles}} من الملفات.";
      Dropzone.prototype.defaultOptions.dictDefaultMessage = "قم بإسقاط الملفات هنا أو انقر للتحميل";
      Dropzone.prototype.defaultOptions.timeout = 0;

      $('#datatableRange').on('apply.daterangepicker', (event, picker) => {
          cb(picker.startDate, picker.endDate);
          $('#datatableRange').val(picker.startDate.format('DD-MM-YYYY') +
              ' ل ' + picker.endDate.format(
                  'DD-MM-YYYY'));
      });

      $('#datatableRange2').on('apply.daterangepicker', (event, picker) => {
          cb(picker.startDate, picker.endDate);
          $('#datatableRange2').val(picker.startDate.format('DD-MM-YYYY') +
              ' ل ' + picker.endDate.format(
                  'DD-MM-YYYY'));
      });

      function cb(start, end) {
          $('#datatableRange, #datatableRange2').val(start.format('DD-MM-YYYY') +
              ' ل ' + end.format(
                  'DD-MM-YYYY'));
              $('#reset-filters, #reset-filters-2').removeClass('d-none');

      }



          window.Laravel = {"csrfToken":"DmuMveDNEA3WztFQS9PMQtLlZxNEiLIOx1KYI1ap","user":{"id":2614,"company_id":462,"user_auth_id":1493,"name":"\u0645\u062d\u0645\u062f \u0641\u0627\u0644\u062d \u0627\u0644\u0639\u062a\u064a\u0628\u064a","email":"alroewes@gmail.com","image":null,"country_phonecode":null,"mobile":null,"gender":"male","locale":"ar","status":"active","login":"enable","onesignal_player_id":null,"fcm_device_token":null,"is_superadmin":0,"email_notifications":1,"country_id":null,"last_login":"2025-03-24T21:30:23+00:00","customised_permissions":0,"salutation":null,"dark_theme":0,"rtl":1,"admin_approval":1,"permission_sync":1,"google_calendar_status":1,"stripe_id":null,"pm_type":null,"pm_last_four":null,"trial_ends_at":null,"name_en":null,"image_url":"https:\/\/altab.flowdo.net\/user-uploads\/avatar\/ar\/13.png","modules":["clients","projects","tasks","timelogs","employees"],"mobile_with_phonecode":"--","client_details":null,"employee_detail":{"id":817,"company_id":462,"user_id":2614,"employee_id":"EMP-1","address":null,"hourly_rate":null,"number_of_hour_day":0,"salary":"0.00","salary_component":null,"slack_username":null,"department_id":null,"designation_id":null,"joining_date":"2025-03-24T14:34:24+00:00","last_date":null,"attendance_reminder":null,"added_by":null,"last_updated_by":null,"date_of_birth":null,"calendar_view":null,"about_me":null,"reporting_to":null,"contract_end_date":null,"internship_end_date":null,"employment_type":null,"marriage_anniversary_date":null,"marital_status":"unmarried","notice_period_end_date":null,"notice_period_start_date":null,"probation_end_date":null,"company_address_id":null,"monthly_rate":null,"comp_address_id":null,"reporting_to2":null,"shift_id":null,"hijri_birth_date":null,"restrict_workplace":0,"annual_leave_days":null,"overtime_hourly_rate":null,"upcoming_birthday":null,"employee_prefix":"EMP-1","annual_salary":"0.00","designation":null,"company":{"id":462,"sub_domain":"Altab.flowdo.net","company_name":"\u0645\u0624\u0633\u0633\u0629 \u0627\u0644\u0637\u064a\u0628 \u0627\u0644\u0623\u0641\u0636\u0644 \u0644\u0644\u062a\u062c\u0627\u0631\u0629","app_name":"\u0645\u0624\u0633\u0633\u0629 \u0627\u0644\u0637\u064a\u0628 \u0627\u0644\u0623\u0641\u0636\u0644 \u0644\u0644\u062a\u062c\u0627\u0631\u0629","company_email":"alroewes@gmail.com","company_phone":"\u0660\u0665\u0660\u0669\u0669\u0669\u0662\u0668\u0660\u0663","logo":"3514c4e1a404d36ddd99acbe6080e544.png","login_background":null,"country_id":187,"address":"\u0645\u0624\u0633\u0633\u0629 \u0627\u0644\u0637\u064a\u0628 \u0627\u0644\u0623\u0641\u0636\u0644 \u0644\u0644\u062a\u062c\u0627\u0631\u0629","city":null,"district":null,"postal_code":null,"additional_number":null,"national_address":null,"building_number":null,"website":null,"currency_id":1065,"package_id":49,"package_type":"monthly","timezone":"Asia\/Riyadh","date_format":"d-m-Y","date_picker_format":"dd-mm-yyyy","year_starts_from":"1","moment_format":"DD-MM-YYYY","time_format":"h:i a","locale":"ar","latitude":"26.91243360","longitude":"75.78727090","leaves_start_from":"joining_date","active_theme":"default","status":"active","task_self":"yes","last_updated_by":null,"stripe_id":null,"card_brand":null,"card_last_four":null,"trial_ends_at":null,"licence_expire_on":null,"license_updated_at":null,"subscription_updated_at":"2025-03-24T06:34:18+00:00","rounded_theme":1,"last_login":"2025-03-24T21:30:23+00:00","default_task_status":6059,"dashboard_clock":1,"ticket_form_google_captcha":0,"lead_form_google_captcha":0,"rtl":1,"company_name_en":null,"address_en":null,"city_en":null,"district_en":null,"identification_type":"CRN","cr_number":null,"gst_number":null,"token":null,"hash":"4910d1da9eac50d61c4bbc599634f085","logo_background_color":"#FFFFFF","header_color":"#00DD90","light_logo":"713a8c95c7cd38a61fc5092dce631cac.png","favicon":"6823163ef3557a2c287cd16b625019cb.png","auth_theme":"light","auth_theme_text":"dark","sidebar_logo_style":"square","before_days":0,"after_days":0,"on_deadline":"yes","taskboard_length":10,"datatable_row_limit":100,"allow_client_signup":0,"admin_client_signup_approval":0,"google_calendar_status":"inactive","google_client_id":null,"google_client_secret":null,"google_calendar_verification_status":"non_verified","name":null,"license_type":null,"approved":1,"approved_by":null,"show_new_webhook_alert":0,"pm_type":null,"pm_last_four":null,"currency_converter_key":null,"google_map_key":null,"purchase_code":null,"supported_until":null,"google_recaptcha_status":"deactive","google_recaptcha_v2_status":"deactive","google_recaptcha_v2_site_key":null,"google_recaptcha_v2_secret_key":null,"google_recaptcha_v3_status":"deactive","google_recaptcha_v3_site_key":null,"google_recaptcha_v3_secret_key":null,"app_debug":0,"hide_cron_message":0,"system_update":1,"show_review_modal":1,"last_cron_run":null,"session_driver":"file","allowed_file_types":null,"google_id":null,"allowed_file_size":10,"currency_key_version":"free","google_drive_status":"inactive","company_type":null,"business_category":null,"logo_url":"https:\/\/altab.flowdo.net\/user-uploads\/app-logo\/713a8c95c7cd38a61fc5092dce631cac.png","login_background_url":null,"moment_date_format":"DD-MM-YYYY","favicon_url":"https:\/\/altab.flowdo.net\/user-uploads\/favicon\/6823163ef3557a2c287cd16b625019cb.png","full_address":"\u0645\u0624\u0633\u0633\u0629 \u0627\u0644\u0637\u064a\u0628 \u0627\u0644\u0623\u0641\u0636\u0644 \u0644\u0644\u062a\u062c\u0627\u0631\u0629\u060c \u060c \u060c \u0627\u0644\u0645\u0645\u0644\u0643\u0629 \u0627\u0644\u0639\u0631\u0628\u064a\u0629 \u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629","full_address_en":", , , Saudi Arabia","package":{"id":49,"currency_id":9,"name":"\u0628\u0627\u0642\u0629 \u0627\u0644\u0645\u0634\u0627\u0631\u064a\u0639 \u0627\u0644\u0627\u0633\u0627\u0633\u064a\u0629","description":"[project]","max_storage_size":100000,"max_file_size":0,"annual_price":1,"monthly_price":1,"billing_cycle":0,"max_employees":20,"sort":"35","module_in_package":"{\"1\":\"clients\",\"2\":\"employees\",\"3\":\"projects\",\"5\":\"tasks\",\"9\":\"timelogs\"}","stripe_annual_plan_id":null,"razorpay_annual_plan_id":null,"razorpay_monthly_plan_id":null,"stripe_monthly_plan_id":null,"paystack_monthly_plan_id":null,"paystack_annual_plan_id":null,"default":"no","is_private":0,"storage_unit":"mb","is_recommended":0,"is_free":0,"is_auto_renew":0,"monthly_status":"1","annual_status":"1","formatted_annual_price":"SR1.00","formatted_monthly_price":"SR1.00"},"country":{"id":187,"iso":"SA","name":"SAUDI ARABIA","nicename":"Saudi Arabia","iso3":"SAU","numcode":682,"phonecode":966,"nationality":"Saudi"}},"department":null},"roles":[{"id":1551,"company_id":462,"name":"admin","display_name":"App Administrator","description":"Admin is allowed to manage everything of the app.","created_at":"2025-03-24T06:34:19.000000Z","updated_at":"2025-03-24T06:34:19.000000Z","pivot":{"user_id":2614,"role_id":1551}},{"id":1552,"company_id":462,"name":"employee","display_name":"Employee","description":"Employee can see tasks and projects assigned to him.","created_at":"2025-03-24T06:34:19.000000Z","updated_at":"2025-03-24T06:34:19.000000Z","pivot":{"user_id":2614,"role_id":1552}}],"sticky":[{"id":20,"company_id":462,"user_id":2614,"note_text":"\u0645\u0644\u0627\u062d\u0638\u0629 \u062a\u062c\u0631\u0628\u0647","colour":"blue"}],"role":[{"user_id":2614,"role_id":1551},{"user_id":2614,"role_id":1552}]}};
      $('.table-responsive').on('show.bs.dropdown', function () {
          $('.table-responsive').css( "overflow", "inherit" );
      });

      $('.table-responsive').on('hide.bs.dropdown', function () {
          $('.table-responsive').css( "overflow", "auto" );
      })
      $(document).ready(function() {
          $('#filter-form').removeClass("invisible");
      });

      $(function() {

          var start = moment().subtract(89, 'days');
          var end = moment();

          $('#datatableRange').daterangepicker({
              autoUpdateInput: false,
              locale: daterangeLocale,
              linkedCalendars: false,
              startDate: start,
              endDate: end,
              showDropdowns: true,
              ranges: daterangeConfig
          }, cb);


          $('#datatableRange').on('apply.daterangepicker', function(ev, picker) {
              showTable();
          });

      });


          $('#projects-table').on('preXhr.dt', function(e, settings, data) {

              var status = $('#status').val();
              var clientID = $('#client_id').val();
              var categoryID = $('#category_id').val();
              var teamID = $('#team_id').val();
              var employee_id = $('#employee_id').val();
              var searchText = $('#search-text-field').val();
              var progress = $('#progress').val();


              data['status'] = status;
              data['progress'] = progress;
              data['client_id'] = clientID;
              data['category_id'] = categoryID;
              data['team_id'] = teamID;
              data['employee_id'] = employee_id;
              data['searchText'] = searchText;
          });
          const showTable = () => {
              window.LaravelDataTables["projects-table"].draw(false);
          }

          $('#client_id, #status, #employee_id, #team_id, #category_id, #progress').on('change keyup',
              function() {
                  if ($('#status').val() != "not finished") {
                      $('#reset-filters').removeClass('d-none');
                      showTable();
                  } else if ($('#employee_id').val() != "all") {
                      $('#reset-filters').removeClass('d-none');
                      showTable();
                  } else if ($('#team_id').val() != "all") {
                      $('#reset-filters').removeClass('d-none');
                      showTable();
                  } else if ($('#category_id').val() != "all") {
                      $('#reset-filters').removeClass('d-none');
                      showTable();
                  } else if ($('#client_id').val() != "all") {
                      $('#reset-filters').removeClass('d-none');
                      showTable();
                  }
                  else if ($('#progress').val() != "all") {
                      $('#reset-filters').removeClass('d-none');
                      showTable();
                  } else {
                      $('#reset-filters').addClass('d-none');
                      showTable();
                  }
              });

          $('#search-text-field').on('keyup', function() {
              if ($('#search-text-field').val() != "") {
                  $('#reset-filters').removeClass('d-none');
                  showTable();
              }
          });

          $('#reset-filters,#reset-filters-2').click(function() {
              $('#filter-form')[0].reset();
              $('.filter-box .select-picker').selectpicker("refresh");
              $('#reset-filters').addClass('d-none');
              showTable();
          });


          $('#quick-action-type').change(function() {
              const actionValue = $(this).val();
              if (actionValue != '') {
                  $('#quick-action-apply').removeAttr('disabled');

                  if (actionValue == 'change-status') {
                      $('.quick-action-field').addClass('d-none');
                      $('#change-status-action').removeClass('d-none');
                  } else {
                      $('.quick-action-field').addClass('d-none');
                  }
              } else {
                  $('#quick-action-apply').attr('disabled', true);
                  $('.quick-action-field').addClass('d-none');
              }
          });

          $('#quick-action-apply').click(function() {
              const actionValue = $('#quick-action-type').val();
              if (actionValue == 'delete') {
                  Swal.fire({
                      title: "هل أنت متأكد؟",
                      text: "لن تتمكن من تغيير الحالة لاحقًا.",
                      icon: 'warning',
                      showCancelButton: true,
                      focusConfirm: false,
                      confirmButtonText: "نعم ، احذفها!",
                      cancelButtonText: "إلغاء",
                      customClass: {
                          confirmButton: 'btn btn-primary mr-3',
                          cancelButton: 'btn btn-secondary'
                      },
                      showClass: {
                          popup: 'swal2-noanimation',
                          backdrop: 'swal2-noanimation'
                      },
                      buttonsStyling: false
                  }).then((result) => {
                      if (result.isConfirmed) {
                          applyQuickAction();
                      }
                  });

              } else {
                  applyQuickAction();
              }
          });

          $('body').on('click', '.delete-table-row', function() {
              var id = $(this).data('user-id');
              Swal.fire({
                  title: "هل أنت متأكد؟",
                  text: "لن تتمكن من تغيير الحالة لاحقًا.",
                  icon: 'warning',
                  showCancelButton: true,
                  focusConfirm: false,
                  confirmButtonText: "نعم ، احذفها!",
                  cancelButtonText: "إلغاء",
                  customClass: {
                      confirmButton: 'btn btn-primary mr-3',
                      cancelButton: 'btn btn-secondary'
                  },
                  showClass: {
                      popup: 'swal2-noanimation',
                      backdrop: 'swal2-noanimation'
                  },
                  buttonsStyling: false
              }).then((result) => {
                  if (result.isConfirmed) {
                      var url = "https://altab.flowdo.net/account/projects/:id";
                      url = url.replace(':id', id);

                      var token = "DmuMveDNEA3WztFQS9PMQtLlZxNEiLIOx1KYI1ap";

                      $.easyAjax({
                          type: 'POST',
                          url: url,
                          data: {
                              '_token': token,
                              '_method': 'DELETE'
                          },
                          success: function(response) {
                              if (response.status == "success") {
                                  showTable();
                              }
                          }
                      });
                  }
              });
          });

          $('body').on('click', '.restore-project', function() {
              var id = $(this).data('user-id');
              Swal.fire({
                  title: "هل أنت متأكد؟",
                  text: "هل تريد استعادة هذا المشروع.",
                  icon: 'warning',
                  showCancelButton: true,
                  focusConfirm: false,
                  confirmButtonText: "نعم ، استعدها!",
                  cancelButtonText: "إلغاء",
                  customClass: {
                      confirmButton: 'btn btn-primary mr-3',
                      cancelButton: 'btn btn-secondary'
                  },
                  showClass: {
                      popup: 'swal2-noanimation',
                      backdrop: 'swal2-noanimation'
                  },
                  buttonsStyling: false
              }).then((result) => {
                  if (result.isConfirmed) {
                      var url = "https://altab.flowdo.net/account/projects/archive-restore/:id";
                      url = url.replace(':id', id);

                      var token = "DmuMveDNEA3WztFQS9PMQtLlZxNEiLIOx1KYI1ap";

                      $.easyAjax({
                          type: 'POST',
                          url: url,
                          data: {
                              '_token': token
                          },
                          success: function(response) {
                              if (response.status == "success") {
                                  window.LaravelDataTables["projects-table"].draw(false);
                              }
                          }
                      });
                  }
              });
          });

          const applyQuickAction = () => {
              var rowdIds = $("#projects-table input:checkbox:checked").map(function() {
                  return $(this).val();
              }).get();

              var url = "https://altab.flowdo.net/account/projects/apply-quick-action?row_ids=" + rowdIds;

              $.easyAjax({
                  url: url,
                  container: '#quick-action-form',
                  type: "POST",
                  disableButton: true,
                  buttonSelector: "#quick-action-apply",
                  data: $('#quick-action-form').serialize(),
                  success: function(response) {
                      if (response.status == 'success') {
                          showTable();
                          resetActionButtons();
                          deSelectAll();
                      }
                  }
              })
          };

          let current_route = "projects.archive";
      $(window).on('load', function () {
          // Animate loader off screen
          init();
          // $(".preloader-container").fadeOut("slow", function () {
          //     $(this).removeClass("d-flex");
          // });
          if(current_route != 'tasks.show') {
              $('.ph-item').removeClass('ph-item');
          }

          // $('.material-symbols-rounded').css('display','inline');

          // const pathname = window.location.pathname;
          // const pathnameSegments = pathname.split('/');

          // if(pathnameSegments[pathnameSegments.length-1] == 'dashboard'){
          //     $('#myModalPopUp').modal('show');
          //     init('#myModalPopUp');
          // }
      });

      $('body').on('click', '.view-notification', function (event) {
          event.preventDefault();
          const id = $(this).data('notification-id');
          const href = $(this).attr('href');

          $.easyAjax({
              url: "https://altab.flowdo.net/account/mark-read",
              type: "POST",
              data: {
                  '_token': "DmuMveDNEA3WztFQS9PMQtLlZxNEiLIOx1KYI1ap",
                  'id': id
              },
              success: function () {
                  if (typeof href !== 'undefined') {
                      window.location = href;
                  }
              }
          });
      });

      $('body').on('click', '.img-lightbox', function () {
          const imageUrl = $(this).data('image-url');
          const url = "https://altab.flowdo.net/front/show-image?image_url=" + encodeURIComponent(imageUrl);
          $(MODAL_XL + ' ' + MODAL_HEADING).html('...');
          $.ajaxModal(MODAL_XL, url);
      });

      function updateOnesignalPlayerId(userId) {
          $.easyAjax({
              url: 'https://altab.flowdo.net/account/settings/profile/updateOneSignalId',
              type: 'POST',
              data: {
                  'userId': userId,
                  '_token': 'DmuMveDNEA3WztFQS9PMQtLlZxNEiLIOx1KYI1ap'
              }
          })
      }

      if (SEARCH_KEYWORD !== '' && $('#search-text-field').length > 0) {
          $('#search-text-field').val(SEARCH_KEYWORD);
          $('#reset-filters').removeClass('d-none');
      }

      $('body').on('click', '.show-hide-purchase-code', function () {
          $('> .icon', this).toggleClass('fa-eye-slash fa-eye');
          $(this).siblings('span').toggleClass('blur-code ');
      });


          let quillArray = {};
      let global_quill;

      function quillImageLoad(ID) {
          const quillContainer = document.querySelector(ID);
          quillArray[ID] = new Quill(ID, {
              modules: {
                  toolbar: [
                      // [{ align: '' }, { align: 'center' }, { align: 'right' }, { align: 'justify' }],
                      [{
                          header: [1, 2, 3, 4, 5, false]
                      }],
                      [{
                          'list': 'ordered'
                      }, {
                          'list': 'bullet'
                      }],
                      ['bold', 'italic', 'underline', 'strike'],
                      ['image', 'code-block', 'link','video'],
                      [{
                          'direction': 'rtl'
                      }],
                      ['clean']
                  ],
                  clipboard: {
                      matchVisual: false
                  },
                  "emoji-toolbar": true,
                  "emoji-textarea": true,
                  "emoji-shortname": true,
              },
              theme: 'snow',
              bounds: quillContainer
          });
          $.each(quillArray, function (key, quill) {
              quill.getModule('toolbar').addHandler('image', selectLocalImage);
          });


      }
          function destory_editor(selector){
              if($(selector)[0])
              {
                  var content = $(selector).find('.ql-editor').html();
                  $(selector).html(content);

                  $(selector).siblings('.ql-toolbar').remove();
                  $(selector + " *[class*='ql-']").removeClass (function (index, class_name) {
                  return (class_name.match (/(^|\s)ql-\S+/g) || []).join(' ');
                  });

                  $(selector + "[class*='ql-']").removeClass (function (index, class_name) {
                  return (class_name.match (/(^|\s)ql-\S+/g) || []).join(' ');
                  });
              }
              else
              {
                  console.error('editor not exists');
              }
          }
      function quillMention(atValues,ID) {
          const mentionItemTemplate = '<div class="mention-item"> <img src="{image}" class="align-self-start mr-3 taskEmployeeImg rounded">{name}</div>';

          const customRenderItem = function(item, searchTerm) {
              const html = mentionItemTemplate.replace('{image}', item.image).replace('{name}', item.value);
              return html;
          }
          let placeholder;
          if (ID === '#submitTexts') {
              placeholder = "اكتب رسالتك هنا";
          } else {
              placeholder = '';
          }

          var quillEditor = new Quill(ID, {
              placeholder: placeholder,
              modules: {
                  toolbar: [

                      [{
                          header: [1, 2, 3, 4, 5, false]
                      }],

                      [{ align: '' }, { align: 'center' }, { align: 'right' }, { align: 'justify' }],

                      [{
                          'list': 'ordered'
                      }, {
                          'list': 'bullet'
                      }],
                      ['bold', 'italic', 'underline', 'strike'],
                      [{
                          'direction': 'rtl'
                      }],
                      ['clean'],
                      //[{ 'add_client_name': 'add_client_name' }] // Add the table button
                  ],
                  magicUrl: {
                      urlRegularExpression: /(https?:\/\/[\S]+)|(www.[\S]+)|(tel:[\S]+)/g,
                      globalRegularExpression: /(https?:\/\/|www\.|tel:)[\S]+/g,
                  },
                  mention: {
                      allowedChars: /^[A-Za-z\sÅÄÖåäö]*$/,
                      mentionDenotationChars: ["@", "#"],
                      source: function(searchTerm, renderList, mentionChar) {
                      let values;
                      if (mentionChar === "@") {
                          values = atValues;
                      } else {
                          values = hashValues;
                      }

                      if (searchTerm.length === 0) {
                          renderList(values, searchTerm);

                      } else {
                          const matches = [];
                          for (i = 0; i < values.length; i++)
                          if (
                              ~values[i].value
                              .toLowerCase()
                              .indexOf(searchTerm.toLowerCase())
                          )
                              matches.push(values[i]);
                          renderList(matches, searchTerm);
                      }
                      },
                      renderItem: customRenderItem,

                  },

              },
              theme: 'snow',
              direction: 'rtl'
          });

          global_quill = [ID, quillEditor];


      //    var tableButton = document.querySelector('.ql-add_client_name');
      //    tableButton.addEventListener('click', function () {
      //    console.log("kookko");
      //});
      }

       /**
       * click to open user profile
       *
       */
      window.addEventListener('mention-clicked', function ({ value }) {
      if (value?.link) {
          window.open(value.link, value?.target ?? '_blank');
      }
      });
      /**
       * Step1. select local image
       *
       */
      function selectLocalImage() {
          const input = document.createElement('input');
          input.setAttribute('type', 'file');
          input.click();

          // Listen upload local image and save to server
          input.onchange = () => {
              const file = input.files[0];

              // file type is only image.
              if (/^image\//.test(file.type)) {
                  saveToServer(file);
              } else {
                  console.warn('You could only upload images.');
              }
          };
      }

      /**
       * Step2. save to server
       *
       * @param {File} file
       */
      function saveToServer(file) {
          const fd = new FormData();
          fd.append('image', file);
          $.ajax({
              type: 'POST',
              url: "https://altab.flowdo.net/account/image/upload",
              dataType: "json",
              headers: {
                  'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
              },
              data: fd,
              contentType: false,
              processData: false,
              success: function (response) {
                  insertToEditor(response)
              },
          });
      }

      function insertToEditor(url) {
          // push image url to rich editor.
          $.each(quillArray, function (key, quill) {
              try {
                  let range = quill.getSelection();
                  quill.insertEmbed(range.index, 'image', url);
              } catch (err) {
              }
          });
      }

          $('body').on('click', '#pause-timer-btn, .pause-active-timer', function () {
          const id = $(this).data('time-id');
          let url = "https://altab.flowdo.net/account/timelogs/pause-timer?:id";
          url = url.replace(':id', id);
          const token = 'DmuMveDNEA3WztFQS9PMQtLlZxNEiLIOx1KYI1ap';
          $.easyAjax({
              url: url,
              blockUI: true,
              type: "POST",
              disableButton: true,
              buttonSelector: "#pause-timer-btn",
              data: {
                  timeId: id,
                  _token: token
              },
              success: function (response) {
                  if (response.status === 'success') {
                      if ($('#myActiveTimer').length > 0) {
                          $(MODAL_XL + ' .modal-content').html(response.html);

                          if ($('#allTasks-table').length) {
                              window.LaravelDataTables["allTasks-table"].draw(false);
                          }
                      }

                      if ($('#allTasks-table').length) {
                          window.LaravelDataTables["allTasks-table"].draw(false);
                      }

                      $('#timer-clock').html(response.clockHtml);
                  }
              }
          })
      });

      $('body').on('click', '#resume-timer-btn, .resume-active-timer', function () {
          const id = $(this).data('time-id');
          let url = "https://altab.flowdo.net/account/timelogs/resume-timer?:id";
          url = url.replace(':id', id);
          const token = 'DmuMveDNEA3WztFQS9PMQtLlZxNEiLIOx1KYI1ap';
          $.easyAjax({
              url: url,
              blockUI: true,
              type: "POST",
              disableButton: true,
              buttonSelector: "#resume-timer-btn",
              data: {
                  timeId: id,
                  _token: token
              },
              success: function (response) {
                  if (response.status === 'success') {
                      if ($('#myActiveTimer').length > 0) {
                          $(MODAL_XL + ' .modal-content').html(response.html);
                      }

                      $('#timer-clock').html(response.clockHtml);
                      if ($('#allTasks-table').length) {
                          window.LaravelDataTables["allTasks-table"].draw(false);
                      }
                  }
              }
          })
      });

      $('body').on('click', '.stop-active-timer', function () {
          const id = $(this).data('time-id');
          let url = "https://altab.flowdo.net/account/timelogs/stop-timer?:id";
          url = url.replace(':id', id);
          const token = 'DmuMveDNEA3WztFQS9PMQtLlZxNEiLIOx1KYI1ap';
          $.easyAjax({
              url: url,
              type: "POST",
              data: {
                  timeId: id,
                  _token: token
              },
              success: function (response) {
                  if ($('#myActiveTimer').length > 0) {
                      $(MODAL_XL + ' .modal-content').html(response.html);
                  }

                  if (response.activeTimerCount > 0) {
                      $('#show-active-timer .active-timer-count').html(response.activeTimerCount);
                  } else {
                      $('#show-active-timer .active-timer-count').addClass('d-none');
                  }

                  $('#timer-clock').html('');
                  if ($('#allTasks-table').length) {
                      window.LaravelDataTables["allTasks-table"].draw(false);
                  }

              }
          })

      });

      $(document).ready(function() {
          var runTimeClock = true;

          const activeTimerCount = parseInt("1");

          if (activeTimerCount > 0) {

              $('#show-active-timer').click(function() {
                  const url = "https://altab.flowdo.net/account/timelogs/show-active-timer";
                  $(MODAL_LG + ' ' + MODAL_HEADING).html('...');
                  $.ajaxModal(MODAL_XL, url);
              });

          }


          $('#start-timer-modal').click(function() {
              const url = "https://altab.flowdo.net/account/timelogs/show-timer";
              $(MODAL_XL + ' ' + MODAL_HEADING).html('...');
              $.ajaxModal(MODAL_XL, url);
          });

          $('.open-search').click(function() {
              const url = "https://altab.flowdo.net/account/search";
              $(MODAL_LG + ' ' + MODAL_HEADING).html('...');
              $.ajaxModal(MODAL_LG, url);
          });



          $('.show-user-notifications').click(function() {
              const openStatus = $(this).attr('aria-expanded');

              if (typeof openStatus == "undefined" || openStatus == "false") {

                  const token = 'DmuMveDNEA3WztFQS9PMQtLlZxNEiLIOx1KYI1ap';
                  $.easyAjax({
                      type: 'POST',
                      url: "https://altab.flowdo.net/account/show-notifications",
                      container: "#notification-list",
                      blockUI: true,
                      data: {
                          '_token': token
                      },
                      success: function(data) {
                          if (data.status === 'success') {
                              $('#notification-list').html(data.html);
                          }
                      }
                  });

              }

          });

          $('.mark-notification-read').click(function() {
              const token = 'DmuMveDNEA3WztFQS9PMQtLlZxNEiLIOx1KYI1ap';
              $.easyAjax({
                  type: 'POST',
                  url: "https://altab.flowdo.net/account/mark_notification_read",
                  blockUI: true,
                  data: {
                      '_token': token
                  },
                  success: function(data) {
                      if (data.status === 'success') {
                          $('#notification-list').html('');
                          $('.unread-notifications-count').remove();
                          window.location.reload();
                      }
                  }
              });

          });

      });
      $(document).ready(function() {

          if (!notSettingPage && !$("body").hasClass("sidebar-toggled")) {
              toggleSidebar()
          }

          $('.invite-member').click(function() {
              const url = "https://altab.flowdo.net/account/employees/invite-member";
              $(MODAL_LG + ' ' + MODAL_HEADING).html('...');
              $.ajaxModal(MODAL_LG, url);
          });

          $('#dark-theme-toggle').change(function() {
              const darkTheme = ($(this).is(':checked')) ? '1' : '0'

              $.easyAjax({
                  type: 'POST',
                  url: "https://altab.flowdo.net/account/settings/profile/dark-theme",
                  blockUI: true,
                  data: {
                      '_token': 'DmuMveDNEA3WztFQS9PMQtLlZxNEiLIOx1KYI1ap',
                      'darkTheme': darkTheme
                  },
                  success: function(response) {
                      if (response.status === 'success') {
                          window.location.reload();
                      }
                  }
              });

          });

      });


      var $worked = $("#active-timer");
      var activeBreak = "1";

      function updateTimerTask() {
          var myTime = $worked.html();
          var ss = myTime.split(":");

          var hours = ss[0];
          var mins = ss[1];
          var secs = ss[2];
          secs = parseInt(secs) + 1;

          if (secs > 59) {
              secs = '00';
              mins = parseInt(mins) + 1;
          }

          if (mins > 59) {
              secs = '00';
              mins = '00';
              hours = parseInt(hours) + 1;
          }

          if (hours.toString().length < 2) {
              hours = '0' + hours;
          }
          if (mins.toString().length < 2) {
              mins = '0' + mins;
          }
          if (secs.toString().length < 2) {
              secs = '0' + secs;
          }
          var ts = hours + ':' + mins + ':' + secs;

          $worked.html(ts);

          if (runTimeClock) {
              return setTimeout(updateTimerTask, 1000);
          }
      }

      if ($('#active-timer').length && activeBreak != '1') {
          runTimeClock = true;
          setTimeout(updateTimerTask, 1000);
      } else {
          runTimeClock = false;
      }
